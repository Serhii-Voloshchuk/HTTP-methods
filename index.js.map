{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const URL = 'https://pixabay.com/api/' //pixabay читаем библиотеку\n\nconst API_KEY = '45071357-999033ebbf151b40dc2c05ece'\n\nexport function fetchImages(query){ // фетч на запрос на сервер\n\n    return fetch(`${URL}?key=${API_KEY}&q=${query}&image-type=photo&orientation=horizontal&safesearch=true`) //линк на бекенд, читаем библиотеку\n    .then((response) => {\n        if (!response.ok) {\n          throw new Error('Sorry, there are no images matching your search query. Please try again!');\n        }\n        return response.json();\n      });\n  }\n  \n\n\n\n\n\n\n\n\n\n\n","export function showLoader(loader){\n    loader.style.display = 'block';\n}\n\nexport function hideLoader(loader){\n    loader.style.display = 'none';\n}\n\nexport function createImages(images) { //функция создания галлереи\n    \n    return images.map(image => {\n    return `<li class = 'gallery-item'>\n      <a class='gallery-link' href='${image.webformatURL}'>\n      <img\n        class='gallery-image'\n        src=${image.webformatURL}\n        data-source='${image.largeImageURL}'\n        alt='${image.tags}'\n        />\n      </a>\n      <ul>\n      <li>\n      <h3>Likes</h3>\n      <p>${image.likes}</p>\n      </li>\n      <li>\n      <h3>Views</h3>\n      <p>${image.views}</p>\n      </li>\n      <li>\n      <h3>Comments</h3>\n      <p>${image.comments}</p>\n      </li>\n      <li>\n      <h3>Downloads</h3>\n      <p>${image.downloads}</p>\n      </li>\n      </ul>\n      </li>\n  `\n    }).join(\"\")\n  }","console.log('Hello world')\n\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { fetchImages } from \"./js/pixabay-api\";\nimport { showLoader, hideLoader, createImages } from \"./js/render-functions\";\n\nconst form = document.querySelector('.form')\nconst input = document.getElementById('input')\n\nconst gallery = document.querySelector('.gallery')\nconst loader = document.querySelector('.loader')\n\nloader.style.display = 'none'\nform.addEventListener('submit', handleFormInput)\n\n\nfunction handleFormInput(event){\n  event.preventDefault(); // обнуляем стандартное поведение формы\n  const query = input.value.trim()\n  if(!query) return;\n  showLoader(loader)\n  fetchImages(query) //прорабатываем фетч\n.then(data => {\n  const images = data.hits.slice(0,10); //ограничиваем галлерею 10ю картинками\n  gallery.innerHTML = ''; //очищаем галлерею при каждой новой инициализации\n  gallery.insertAdjacentHTML('beforeend', createImages(images)) // создаем галлерею\n  new SimpleLightbox('.gallery a', { //модальное окно (должно инициализироваться после функции созадания галереи)\n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 250,\n});\n\n})\n.catch((error) => {\nconsole.log(error);\niziToast.error({\n  title: 'Error',\n  message: error.message\n})\n})\n.finally(() => hideLoader(loader))\n}\n\n\n\n\n\n\n\n/**\n * import iziToast from \"izitoast\";\n\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nimport SimpleLightbox from \"simplelightbox\";\n\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst URL = 'https://pixabay.com/api/' //pixabay читаем библиотеку\n\nconst API_KEY = '45071357-999033ebbf151b40dc2c05ece'\n\nconst form = document.querySelector('.form')\nconst input = document.getElementById('input')\n\nconst gallery = document.querySelector('.gallery')\nconst loader = document.querySelector('.loader')\n\nloader.style.display = 'none'\nform.addEventListener('submit', handleFormInput)\n\n\nfunction fetchImages(query){ // фетч на запрос на сервер\n\n  return fetch(`${URL}?key=${API_KEY}&q=${query}&image-type=photo&orientation=horizontal&safesearch=true`) //линк на бекенд, читаем библиотеку\n  .then((response) => {\n      if (!response.ok) {\n        throw new Error('Sorry, there are no images matching your search query. Please try again!');\n      }\n      return response.json();\n    });\n}\n\n\nfunction handleFormInput(event){\n  event.preventDefault(); // обнуляем стандартное поведение формы\n  const query = input.value.trim()\n  if(!query) return;\n  loader.style.display = 'block';\n  fetchImages(query) //прорабатываем фетч\n.then(data => {\n  const images = data.hits.slice(0,10); //ограничиваем галлерею 10ю картинками\n  gallery.innerHTML = ''; //очищаем галлерею при каждой новой инициализации\n  gallery.insertAdjacentHTML('beforeend', createImages(images)) // создаем галлерею\n  new SimpleLightbox('.gallery a', { //модальное окно (должно инициализироваться после функции созадания галереи)\n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 250,\n});\n\n})\n.catch((error) => {\nconsole.log(error);\niziToast.error({\n  title: 'Error',\n  message: error.message\n})\n})\n.finally(() => loader.style.display = 'none')\n}\n\n\nfunction createImages(images) { //функция создания галлереи\n  \n\n  return images.map(image => {\n  return `<li class = 'gallery-item'>\n    <a class='gallery-link' href='${image.webformatURL}'>\n    <img\n      class='gallery-image'\n      src=${image.webformatURL}\n      data-source='${image.largeImageURL}'\n      alt='${image.tags}'\n      />\n    </a>\n    <ul>\n    <li>\n    <h3>Likes</h3>\n    <p>${image.likes}</p>\n    </li>\n    <li>\n    <h3>Views</h3>\n    <p>${image.views}</p>\n    </li>\n    <li>\n    <h3>Comments</h3>\n    <p>${image.comments}</p>\n    </li>\n    <li>\n    <h3>Downloads</h3>\n    <p>${image.downloads}</p>\n    </li>\n    </ul>\n    </li>\n`\n  }).join(\"\")\n}\n */"],"names":["URL","API_KEY","fetchImages","query","response","showLoader","loader","hideLoader","createImages","images","image","form","input","gallery","handleFormInput","event","data","SimpleLightbox","error","iziToast"],"mappings":"6vBAAA,MAAMA,EAAM,2BAENC,EAAU,qCAET,SAASC,EAAYC,EAAM,CAE9B,OAAO,MAAM,GAAGH,CAAG,QAAQC,CAAO,MAAME,CAAK,0DAA0D,EACtG,KAAMC,GAAa,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,0EAA0E,EAE5F,OAAOA,EAAS,MACxB,CAAO,CACP,CCbO,SAASC,EAAWC,EAAO,CAC9BA,EAAO,MAAM,QAAU,OAC3B,CAEO,SAASC,EAAWD,EAAO,CAC9BA,EAAO,MAAM,QAAU,MAC3B,CAEO,SAASE,EAAaC,EAAQ,CAEjC,OAAOA,EAAO,IAAIC,GACX;AAAA,sCAC2BA,EAAM,YAAY;AAAA;AAAA;AAAA,cAG1CA,EAAM,YAAY;AAAA,uBACTA,EAAM,aAAa;AAAA,eAC3BA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAMdA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,WAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,WAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,WAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,GAKrB,EAAE,KAAK,EAAE,CACd,CCzCA,QAAQ,IAAI,aAAa,EAWzB,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,eAAe,OAAO,EAEvCC,EAAU,SAAS,cAAc,UAAU,EAC3CP,EAAS,SAAS,cAAc,SAAS,EAE/CA,EAAO,MAAM,QAAU,OACvBK,EAAK,iBAAiB,SAAUG,CAAe,EAG/C,SAASA,EAAgBC,EAAM,CAC7BA,EAAM,eAAc,EACpB,MAAMZ,EAAQS,EAAM,MAAM,KAAM,EAC5BT,IACJE,EAAWC,CAAM,EACjBJ,EAAYC,CAAK,EAClB,KAAKa,GAAQ,CACZ,MAAMP,EAASO,EAAK,KAAK,MAAM,EAAE,EAAE,EACnCH,EAAQ,UAAY,GACpBA,EAAQ,mBAAmB,YAAaL,EAAaC,CAAM,CAAC,EAC5D,IAAIQ,EAAe,aAAc,CAC/B,SAAU,GACV,aAAc,MACd,aAAc,GAClB,CAAC,CAED,CAAC,EACA,MAAOC,GAAU,CAClB,QAAQ,IAAIA,CAAK,EACjBC,EAAS,MAAM,CACb,MAAO,QACP,QAASD,EAAM,OACjB,CAAC,CACD,CAAC,EACA,QAAQ,IAAMX,EAAWD,CAAM,CAAC,EACjC"}